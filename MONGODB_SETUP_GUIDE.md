# MongoDB Level System Setup Guide## 📋 Mô tảHướng dẫn thiết lập MongoDB để lưu trữ level system thay vì file JSON.## 🛠️ Cài đặt MongoDB### Option 1: MongoDB Local (Khuyên dùng cho development)1. **Download MongoDB Community Server:**   - Truy cập: https://www.mongodb.com/try/download/community   - Download phiên bản cho Windows   - Cài đặt với default settings2. **Khởi động MongoDB:**   ```bash   # Windows (sau khi cài đặt)   net start MongoDB      # Hoặc chạy trực tiếp   "C:\Program Files\MongoDB\Server\7.0\bin\mongod.exe" --dbpath "C:\data\db"   ```### Option 2: MongoDB Atlas (Cloud - Free)1. **Tạo account tại:** https://cloud.mongodb.com/2. **Tạo free cluster**3. **Lấy connection string và paste vào .env**## ⚙️ Cấu hình### 1. Environment Variables (.env)```env# MongoDB ConfigurationMONGODB_URL = mongodb://localhost:27017/  # Local MongoDB# Hoặc cho Atlas: mongodb+srv://username:password@cluster.xxx.mongodb.net/MONGODB_DB = discord_bot```### 2. Install thư viện```bashpip install pymongo```## 🔄 Migration từ JSON### Chuyển dữ liệu cũ (nếu có):```bashpython migrate_levels_to_mongo.py```Script này sẽ:- Đọc file `data/levels.json`- Chuyển toàn bộ dữ liệu sang MongoDB- Backup file JSON cũ- Verify dữ liệu đã chuyển đúng## 🎮 Sử dụng### Load cog mới:1. **Unload cog cũ** (nếu đang dùng):   ```python   await bot.unload_extension('cogs.level_system')   ```2. **Load cog MongoDB:**   ```python   await bot.load_extension('cogs.level_system_mongo')   ```### Commands mới:- `/level` - Xem level của bạn- `/leaderboard` - Bảng xếp hạng  - `/reset_level @user` - [ADMIN] Reset level user## 📊 Database Structure### Collection: `levels````json{  "_id": ObjectId("..."),  "user_id": "123456789012345678",  "xp": 150,  "level": 3,  "last_updated": ISODate("2025-08-27T10:30:00Z"),  "migrated_from_json": true}```## 🔧 Troubleshooting### Lỗi kết nối MongoDB:1. **Kiểm tra MongoDB service đang chạy:**   ```bash   # Windows   sc query MongoDB      # Nếu stopped, start lại   net start MongoDB   ```2. **Kiểm tra connection string trong .env**3. **Kiểm tra firewall/network**### Lỗi import pymongo:```bashpip install pymongo```### Performance optimization:- Tạo index cho user_id:  ```javascript  db.levels.createIndex({"user_id": 1})  ```## 🎯 Lưu ý### Ưu điểm MongoDB:- ✅ Hiệu suất cao hơn JSON file- ✅ Concurrent access an toàn- ✅ Backup tự động- ✅ Scalable- ✅ Query linh hoạt### Migration từ file cũ:- File `level_system.py` vẫn hoạt động bình thường- Chạy song song được (khác tên cog)- Data không bị mất khi chuyển đổi## 🚀 Production Tips### MongoDB Atlas (Cloud):1. **Security:** Whitelist IP addresses2. **Backup:** Automatic trong Atlas3. **Monitoring:** Built-in performance metrics### Local MongoDB:1. **Backup:** Định kỳ export database2. **Security:** Cấu hình authentication3. **Storage:** Monitor disk space---✅ **Sau khi setup xong, level system sẽ:**- Lưu trữ trong MongoDB thay vì JSON- Hiệu suất cao hơn đáng kể- An toàn hơn với concurrent access- Dễ dàng backup và scale